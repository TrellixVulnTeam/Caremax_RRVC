
{% extends 'base.html' %}

<link href="{{url_for('static', filename = 'css/materialize.min.css')}}" rel="stylesheet">

{% block content %}

<div class="container">
<hr>
<script>
   function FilterRow(data) {
    console.log("searching for "+data); 
    var filter = data;
    var table = document.getElementById("testtable");
  for (i = 1; i<table.rows.length; i++)
    {
        var rowdata = table.rows[i].innerHTML;
        console.log(rowdata.toUpperCase());
         if(rowdata.toUpperCase().search(data.toUpperCase())>-1) {table.rows[i].style.display="";} 
        else {table.rows[i].style.display="none";} 
    }
    
}
</script> 
<table width="50%" align="left">
    <tr>
     <td><input style="min-width:50%" type="text" onkeydown="FilterRow(this.value)" placeholder="Search for a test"/></td>
     </tr>
    </table><br/>
    <h3>Test list</h3>
    <div class="card-panel">
    <a class="btn btn-info btn-sm" data-toggle="modal" data-target="#newtest" href="{{url_for('newtest')}}">New test</a>
    <table id="testtable" style="border: 1px;" class="table table-strip table-bordered table-hover table-condensed table-responsive" >
     <thead style="align-items: center;">
         <tr>
                 <th>Test name</th>
                 <th>Test results</th>
                 <th>Action</th>
                 
             
         </tr>
     </thead>
     {% for test in tests %}
     <tr>
         <td>{{test.testname}}</td>
         <td>{{test.testresults}}</td>
         
         <td>
             <a class="btn btn-success btn-sm" data-toggle="modal" data-target="#newtest" href="/test/edittest/{{test.testid}}">Update</a>
             <a class="btn btn-danger btn-sm" href="/test/deletetest/{{test.testid}}">Drop</a>
         </td>
     </tr>

     {% endfor %}
     
    </table>
    </div>
    <script type="text/jquery" src="{{url_for('static', filename = 'jquery.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename ='js/bootstrap.min.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename ='js/materialize.min.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename = 'js/bootboxjs/bootbox.js')}}"></script>
{% endblock %}

